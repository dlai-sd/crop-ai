{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/crop-ai.service\";\nimport * as i2 from \"@angular/common\";\nfunction DashboardComponent_div_81_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"div\", 20);\n    i0.…µ…µtext(1, \" No predictions yet \");\n    i0.…µ…µelementEnd();\n  }\n}\nfunction DashboardComponent_div_82_tr_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"tr\")(1, \"td\")(2, \"span\", 25);\n    i0.…µ…µtext(3);\n    i0.…µ…µelementEnd()();\n    i0.…µ…µelementStart(4, \"td\")(5, \"span\", 26);\n    i0.…µ…µtext(6);\n    i0.…µ…µelementEnd()();\n    i0.…µ…µelementStart(7, \"td\");\n    i0.…µ…µtext(8);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(9, \"td\");\n    i0.…µ…µtext(10);\n    i0.…µ…µpipe(11, \"date\");\n    i0.…µ…µelementEnd()();\n  }\n  if (rf & 2) {\n    const item_r4 = ctx.$implicit;\n    const ctx_r2 = i0.…µ…µnextContext(2);\n    i0.…µ…µadvance(3);\n    i0.…µ…µtextInterpolate(item_r4[\"crop_type\"]);\n    i0.…µ…µadvance(2);\n    i0.…µ…µclassMap(ctx_r2.getConfidenceClass(item_r4[\"confidence\"]));\n    i0.…µ…µadvance(1);\n    i0.…µ…µtextInterpolate1(\" \", (item_r4[\"confidence\"] * 100).toFixed(0), \"% \");\n    i0.…µ…µadvance(2);\n    i0.…µ…µtextInterpolate(item_r4[\"model_version\"]);\n    i0.…µ…µadvance(2);\n    i0.…µ…µtextInterpolate(i0.…µ…µpipeBind2(11, 6, item_r4[\"timestamp\"], \"short\"));\n  }\n}\nfunction DashboardComponent_div_82_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"div\", 21)(1, \"table\", 22)(2, \"thead\", 23)(3, \"tr\")(4, \"th\");\n    i0.…µ…µtext(5, \"Crop Type\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(6, \"th\");\n    i0.…µ…µtext(7, \"Confidence\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(8, \"th\");\n    i0.…µ…µtext(9, \"Model Version\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(10, \"th\");\n    i0.…µ…µtext(11, \"Timestamp\");\n    i0.…µ…µelementEnd()()();\n    i0.…µ…µelementStart(12, \"tbody\");\n    i0.…µ…µtemplate(13, DashboardComponent_div_82_tr_13_Template, 12, 9, \"tr\", 24);\n    i0.…µ…µpipe(14, \"slice\");\n    i0.…µ…µelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.…µ…µnextContext();\n    i0.…µ…µadvance(13);\n    i0.…µ…µproperty(\"ngForOf\", i0.…µ…µpipeBind3(14, 1, ctx_r1.predictions.predictions, 0, 10));\n  }\n}\nexport class DashboardComponent {\n  constructor(cropAIService) {\n    this.cropAIService = cropAIService;\n    this.health = {};\n    this.metrics = {};\n    this.predictions = {\n      predictions: []\n    };\n    this.stats = {};\n  }\n  ngOnInit() {\n    this.loadData();\n    // Refresh every 10 seconds\n    setInterval(() => this.loadData(), 10000);\n  }\n  loadData() {\n    this.cropAIService.getHealth().subscribe({\n      next: data => {\n        this.health = data;\n      },\n      error: err => console.error('Health error:', err)\n    });\n    this.cropAIService.getMetrics().subscribe({\n      next: data => {\n        this.metrics = data;\n      },\n      error: err => console.error('Metrics error:', err)\n    });\n    this.cropAIService.getPredictions(50).subscribe({\n      next: data => {\n        this.predictions = data;\n      },\n      error: err => console.error('Predictions error:', err)\n    });\n    this.cropAIService.getStats().subscribe({\n      next: data => {\n        this.stats = data;\n      },\n      error: err => console.error('Stats error:', err)\n    });\n  }\n  formatUptime(seconds) {\n    const hours = Math.floor(seconds / 3600);\n    const minutes = Math.floor(seconds % 3600 / 60);\n    return `${hours}h ${minutes}m`;\n  }\n  getConfidenceClass(confidence) {\n    if (confidence >= 0.9) return 'badge-success';\n    if (confidence >= 0.7) return 'badge-info';\n    return 'badge-warning';\n  }\n  static {\n    this.…µfac = function DashboardComponent_Factory(t) {\n      return new (t || DashboardComponent)(i0.…µ…µdirectiveInject(i1.CropAIService));\n    };\n  }\n  static {\n    this.…µcmp = /*@__PURE__*/i0.…µ…µdefineComponent({\n      type: DashboardComponent,\n      selectors: [[\"app-dashboard\"]],\n      standalone: true,\n      features: [i0.…µ…µStandaloneFeature],\n      decls: 83,\n      vars: 33,\n      consts: [[1, \"container-fluid\"], [1, \"mb-4\"], [1, \"row\", \"mb-4\"], [1, \"col-md-3\"], [1, \"card\", \"stat-card\"], [1, \"card-body\"], [1, \"card-title\"], [1, \"badge\", \"badge-info\"], [1, \"col-md-6\"], [1, \"card\"], [1, \"card-header\"], [1, \"mb-0\"], [1, \"mb-3\"], [1, \"progress\"], [1, \"progress-bar\"], [1, \"progress-bar\", \"bg-warning\"], [1, \"row\"], [1, \"col-12\"], [\"class\", \"alert alert-info\", 4, \"ngIf\"], [\"class\", \"table-responsive\", 4, \"ngIf\"], [1, \"alert\", \"alert-info\"], [1, \"table-responsive\"], [1, \"table\", \"table-hover\"], [1, \"table-light\"], [4, \"ngFor\", \"ngForOf\"], [1, \"badge\", \"badge-primary\"], [1, \"badge\"]],\n      template: function DashboardComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.…µ…µelementStart(0, \"div\", 0)(1, \"h2\", 1);\n          i0.…µ…µtext(2, \"\\uD83D\\uDCCA Dashboard\");\n          i0.…µ…µelementEnd();\n          i0.…µ…µelementStart(3, \"div\", 2)(4, \"div\", 3)(5, \"div\", 4)(6, \"div\", 5)(7, \"h6\", 6);\n          i0.…µ…µtext(8, \"Total Predictions\");\n          i0.…µ…µelementEnd();\n          i0.…µ…µelementStart(9, \"h3\");\n          i0.…µ…µtext(10);\n          i0.…µ…µelementEnd()()()();\n          i0.…µ…µelementStart(11, \"div\", 3)(12, \"div\", 4)(13, \"div\", 5)(14, \"h6\", 6);\n          i0.…µ…µtext(15, \"Service Status\");\n          i0.…µ…µelementEnd();\n          i0.…µ…µelementStart(16, \"span\");\n          i0.…µ…µtext(17);\n          i0.…µ…µpipe(18, \"uppercase\");\n          i0.…µ…µelementEnd()()()();\n          i0.…µ…µelementStart(19, \"div\", 3)(20, \"div\", 4)(21, \"div\", 5)(22, \"h6\", 6);\n          i0.…µ…µtext(23, \"Uptime\");\n          i0.…µ…µelementEnd();\n          i0.…µ…µelementStart(24, \"h5\");\n          i0.…µ…µtext(25);\n          i0.…µ…µelementEnd()()()();\n          i0.…µ…µelementStart(26, \"div\", 3)(27, \"div\", 4)(28, \"div\", 5)(29, \"h6\", 6);\n          i0.…µ…µtext(30, \"System Health\");\n          i0.…µ…µelementEnd();\n          i0.…µ…µelementStart(31, \"span\", 7);\n          i0.…µ…µtext(32);\n          i0.…µ…µpipe(33, \"uppercase\");\n          i0.…µ…µelementEnd()()()()();\n          i0.…µ…µelementStart(34, \"div\", 2)(35, \"div\", 8)(36, \"div\", 9)(37, \"div\", 10)(38, \"h5\", 11);\n          i0.…µ…µtext(39, \"\\uD83D\\uDCBB System Resources\");\n          i0.…µ…µelementEnd()();\n          i0.…µ…µelementStart(40, \"div\", 5)(41, \"div\", 12)(42, \"label\");\n          i0.…µ…µtext(43);\n          i0.…µ…µpipe(44, \"number\");\n          i0.…µ…µelementEnd();\n          i0.…µ…µelementStart(45, \"div\", 13);\n          i0.…µ…µelement(46, \"div\", 14);\n          i0.…µ…µelementEnd()();\n          i0.…µ…µelementStart(47, \"div\")(48, \"label\");\n          i0.…µ…µtext(49);\n          i0.…µ…µpipe(50, \"number\");\n          i0.…µ…µelementEnd();\n          i0.…µ…µelementStart(51, \"div\", 13);\n          i0.…µ…µelement(52, \"div\", 15);\n          i0.…µ…µelementEnd()()()()();\n          i0.…µ…µelementStart(53, \"div\", 8)(54, \"div\", 9)(55, \"div\", 10)(56, \"h5\", 11);\n          i0.…µ…µtext(57, \"\\uD83D\\uDD27 Service Info\");\n          i0.…µ…µelementEnd()();\n          i0.…µ…µelementStart(58, \"div\", 5)(59, \"p\")(60, \"strong\");\n          i0.…µ…µtext(61, \"Model Ready:\");\n          i0.…µ…µelementEnd();\n          i0.…µ…µelementStart(62, \"span\");\n          i0.…µ…µtext(63);\n          i0.…µ…µelementEnd()();\n          i0.…µ…µelementStart(64, \"p\")(65, \"strong\");\n          i0.…µ…µtext(66, \"CPU OK:\");\n          i0.…µ…µelementEnd();\n          i0.…µ…µelementStart(67, \"span\");\n          i0.…µ…µtext(68);\n          i0.…µ…µelementEnd()();\n          i0.…µ…µelementStart(69, \"p\")(70, \"strong\");\n          i0.…µ…µtext(71, \"Memory OK:\");\n          i0.…µ…µelementEnd();\n          i0.…µ…µelementStart(72, \"span\");\n          i0.…µ…µtext(73);\n          i0.…µ…µelementEnd()()()()()();\n          i0.…µ…µelementStart(74, \"div\", 16)(75, \"div\", 17)(76, \"div\", 9)(77, \"div\", 10)(78, \"h5\", 11);\n          i0.…µ…µtext(79, \"\\uD83D\\uDCDD Recent Predictions\");\n          i0.…µ…µelementEnd()();\n          i0.…µ…µelementStart(80, \"div\", 5);\n          i0.…µ…µtemplate(81, DashboardComponent_div_81_Template, 2, 0, \"div\", 18);\n          i0.…µ…µtemplate(82, DashboardComponent_div_82_Template, 15, 5, \"div\", 19);\n          i0.…µ…µelementEnd()()()()();\n        }\n        if (rf & 2) {\n          i0.…µ…µadvance(10);\n          i0.…µ…µtextInterpolate((ctx.health == null ? null : ctx.health.inference_count) || 0);\n          i0.…µ…µadvance(6);\n          i0.…µ…µclassMap(\"badge badge-\" + ((ctx.health == null ? null : ctx.health.status) === \"healthy\" ? \"success\" : \"warning\"));\n          i0.…µ…µadvance(1);\n          i0.…µ…µtextInterpolate1(\" \", i0.…µ…µpipeBind1(18, 23, ctx.health == null ? null : ctx.health.status), \" \");\n          i0.…µ…µadvance(8);\n          i0.…µ…µtextInterpolate(ctx.formatUptime((ctx.health == null ? null : ctx.health.uptime_seconds) || 0));\n          i0.…µ…µadvance(7);\n          i0.…µ…µtextInterpolate(i0.…µ…µpipeBind1(33, 25, ctx.metrics == null ? null : ctx.metrics.overall_status));\n          i0.…µ…µadvance(11);\n          i0.…µ…µtextInterpolate1(\"CPU Usage: \", i0.…µ…µpipeBind2(44, 27, (ctx.metrics == null ? null : ctx.metrics.system == null ? null : ctx.metrics.system.cpu_percent) || 0, \"1.1-1\"), \"%\");\n          i0.…µ…µadvance(3);\n          i0.…µ…µstyleProp(\"width\", (ctx.metrics == null ? null : ctx.metrics.system == null ? null : ctx.metrics.system.cpu_percent) || 0, \"%\");\n          i0.…µ…µadvance(3);\n          i0.…µ…µtextInterpolate1(\"Memory Usage: \", i0.…µ…µpipeBind2(50, 30, (ctx.metrics == null ? null : ctx.metrics.system == null ? null : ctx.metrics.system.memory_percent) || 0, \"1.1-1\"), \"%\");\n          i0.…µ…µadvance(3);\n          i0.…µ…µstyleProp(\"width\", (ctx.metrics == null ? null : ctx.metrics.system == null ? null : ctx.metrics.system.memory_percent) || 0, \"%\");\n          i0.…µ…µadvance(10);\n          i0.…µ…µclassMap(\"badge badge-\" + ((ctx.metrics == null ? null : ctx.metrics.model == null ? null : ctx.metrics.model.initialized) ? \"success\" : \"danger\"));\n          i0.…µ…µadvance(1);\n          i0.…µ…µtextInterpolate1(\" \", (ctx.metrics == null ? null : ctx.metrics.model == null ? null : ctx.metrics.model.initialized) ? \"Yes\" : \"No\", \" \");\n          i0.…µ…µadvance(4);\n          i0.…µ…µclassMap(\"badge badge-\" + ((ctx.metrics == null ? null : ctx.metrics.system == null ? null : ctx.metrics.system.cpu_ok) ? \"success\" : \"danger\"));\n          i0.…µ…µadvance(1);\n          i0.…µ…µtextInterpolate1(\" \", (ctx.metrics == null ? null : ctx.metrics.system == null ? null : ctx.metrics.system.cpu_ok) ? \"Yes\" : \"No\", \" \");\n          i0.…µ…µadvance(4);\n          i0.…µ…µclassMap(\"badge badge-\" + ((ctx.metrics == null ? null : ctx.metrics.system == null ? null : ctx.metrics.system.memory_ok) ? \"success\" : \"danger\"));\n          i0.…µ…µadvance(1);\n          i0.…µ…µtextInterpolate1(\" \", (ctx.metrics == null ? null : ctx.metrics.system == null ? null : ctx.metrics.system.memory_ok) ? \"Yes\" : \"No\", \" \");\n          i0.…µ…µadvance(8);\n          i0.…µ…µproperty(\"ngIf\", !(ctx.predictions == null ? null : ctx.predictions.predictions) || ctx.predictions.predictions.length === 0);\n          i0.…µ…µadvance(1);\n          i0.…µ…µproperty(\"ngIf\", (ctx.predictions == null ? null : ctx.predictions.predictions) && ctx.predictions.predictions.length > 0);\n        }\n      },\n      dependencies: [CommonModule, i2.NgForOf, i2.NgIf, i2.UpperCasePipe, i2.SlicePipe, i2.DecimalPipe, i2.DatePipe],\n      styles: [\".stat-card[_ngcontent-%COMP%] {\\n      border: none;\\n      box-shadow: 0 2px 8px rgba(0,0,0,0.1);\\n      transition: transform 0.2s;\\n    }\\n\\n    .stat-card[_ngcontent-%COMP%]:hover {\\n      transform: translateY(-4px);\\n      box-shadow: 0 4px 12px rgba(0,0,0,0.15);\\n    }\\n\\n    .card[_ngcontent-%COMP%] {\\n      border: none;\\n      box-shadow: 0 2px 8px rgba(0,0,0,0.1);\\n      margin-bottom: 20px;\\n    }\\n\\n    .card-header[_ngcontent-%COMP%] {\\n      background-color: #f8f9fa;\\n      border-bottom: 2px solid #e9ecef;\\n      padding: 15px;\\n    }\\n\\n    .badge-primary[_ngcontent-%COMP%] { background-color: #007bff; }\\n    .badge-success[_ngcontent-%COMP%] { background-color: #28a745; }\\n    .badge-warning[_ngcontent-%COMP%] { background-color: #ffc107; }\\n    .badge-danger[_ngcontent-%COMP%] { background-color: #dc3545; }\\n    .badge-info[_ngcontent-%COMP%] { background-color: #17a2b8; }\\n  \\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9jb21wb25lbnRzL2Rhc2hib2FyZC5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtJQUNJO01BQ0UsWUFBWTtNQUNaLHFDQUFxQztNQUNyQywwQkFBMEI7SUFDNUI7O0lBRUE7TUFDRSwyQkFBMkI7TUFDM0IsdUNBQXVDO0lBQ3pDOztJQUVBO01BQ0UsWUFBWTtNQUNaLHFDQUFxQztNQUNyQyxtQkFBbUI7SUFDckI7O0lBRUE7TUFDRSx5QkFBeUI7TUFDekIsZ0NBQWdDO01BQ2hDLGFBQWE7SUFDZjs7SUFFQSxpQkFBaUIseUJBQXlCLEVBQUU7SUFDNUMsaUJBQWlCLHlCQUF5QixFQUFFO0lBQzVDLGlCQUFpQix5QkFBeUIsRUFBRTtJQUM1QyxnQkFBZ0IseUJBQXlCLEVBQUU7SUFDM0MsY0FBYyx5QkFBeUIsRUFBRSIsInNvdXJjZXNDb250ZW50IjpbIlxuICAgIC5zdGF0LWNhcmQge1xuICAgICAgYm9yZGVyOiBub25lO1xuICAgICAgYm94LXNoYWRvdzogMCAycHggOHB4IHJnYmEoMCwwLDAsMC4xKTtcbiAgICAgIHRyYW5zaXRpb246IHRyYW5zZm9ybSAwLjJzO1xuICAgIH1cblxuICAgIC5zdGF0LWNhcmQ6aG92ZXIge1xuICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC00cHgpO1xuICAgICAgYm94LXNoYWRvdzogMCA0cHggMTJweCByZ2JhKDAsMCwwLDAuMTUpO1xuICAgIH1cblxuICAgIC5jYXJkIHtcbiAgICAgIGJvcmRlcjogbm9uZTtcbiAgICAgIGJveC1zaGFkb3c6IDAgMnB4IDhweCByZ2JhKDAsMCwwLDAuMSk7XG4gICAgICBtYXJnaW4tYm90dG9tOiAyMHB4O1xuICAgIH1cblxuICAgIC5jYXJkLWhlYWRlciB7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjhmOWZhO1xuICAgICAgYm9yZGVyLWJvdHRvbTogMnB4IHNvbGlkICNlOWVjZWY7XG4gICAgICBwYWRkaW5nOiAxNXB4O1xuICAgIH1cblxuICAgIC5iYWRnZS1wcmltYXJ5IHsgYmFja2dyb3VuZC1jb2xvcjogIzAwN2JmZjsgfVxuICAgIC5iYWRnZS1zdWNjZXNzIHsgYmFja2dyb3VuZC1jb2xvcjogIzI4YTc0NTsgfVxuICAgIC5iYWRnZS13YXJuaW5nIHsgYmFja2dyb3VuZC1jb2xvcjogI2ZmYzEwNzsgfVxuICAgIC5iYWRnZS1kYW5nZXIgeyBiYWNrZ3JvdW5kLWNvbG9yOiAjZGMzNTQ1OyB9XG4gICAgLmJhZGdlLWluZm8geyBiYWNrZ3JvdW5kLWNvbG9yOiAjMTdhMmI4OyB9XG4gICJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n    });\n  }\n}","map":{"version":3,"names":["CommonModule","i0","…µ…µelementStart","…µ…µtext","…µ…µelementEnd","…µ…µadvance","…µ…µtextInterpolate","item_r4","…µ…µclassMap","ctx_r2","getConfidenceClass","…µ…µtextInterpolate1","toFixed","…µ…µpipeBind2","…µ…µtemplate","DashboardComponent_div_82_tr_13_Template","…µ…µproperty","…µ…µpipeBind3","ctx_r1","predictions","DashboardComponent","constructor","cropAIService","health","metrics","stats","ngOnInit","loadData","setInterval","getHealth","subscribe","next","data","error","err","console","getMetrics","getPredictions","getStats","formatUptime","seconds","hours","Math","floor","minutes","confidence","…µ…µdirectiveInject","i1","CropAIService","selectors","standalone","features","…µ…µStandaloneFeature","decls","vars","consts","template","DashboardComponent_Template","rf","ctx","…µ…µelement","DashboardComponent_div_81_Template","DashboardComponent_div_82_Template","inference_count","status","…µ…µpipeBind1","uptime_seconds","overall_status","system","cpu_percent","…µ…µstyleProp","memory_percent","model","initialized","cpu_ok","memory_ok","length","i2","NgForOf","NgIf","UpperCasePipe","SlicePipe","DecimalPipe","DatePipe","styles"],"sources":["/workspaces/crop-ai/frontend/angular/src/components/dashboard.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { CropAIService } from '../services/crop-ai.service';\n\n@Component({\n  selector: 'app-dashboard',\n  standalone: true,\n  imports: [CommonModule],\n  template: `\n    <div class=\"container-fluid\">\n      <h2 class=\"mb-4\">üìä Dashboard</h2>\n\n      <!-- Stats Row -->\n      <div class=\"row mb-4\">\n        <div class=\"col-md-3\">\n          <div class=\"card stat-card\">\n            <div class=\"card-body\">\n              <h6 class=\"card-title\">Total Predictions</h6>\n              <h3>{{ health?.inference_count || 0 }}</h3>\n            </div>\n          </div>\n        </div>\n        <div class=\"col-md-3\">\n          <div class=\"card stat-card\">\n            <div class=\"card-body\">\n              <h6 class=\"card-title\">Service Status</h6>\n              <span [class]=\"'badge badge-' + (health?.status === 'healthy' ? 'success' : 'warning')\">\n                {{ health?.status | uppercase }}\n              </span>\n            </div>\n          </div>\n        </div>\n        <div class=\"col-md-3\">\n          <div class=\"card stat-card\">\n            <div class=\"card-body\">\n              <h6 class=\"card-title\">Uptime</h6>\n              <h5>{{ formatUptime(health?.uptime_seconds || 0) }}</h5>\n            </div>\n          </div>\n        </div>\n        <div class=\"col-md-3\">\n          <div class=\"card stat-card\">\n            <div class=\"card-body\">\n              <h6 class=\"card-title\">System Health</h6>\n              <span class=\"badge badge-info\">{{ metrics?.overall_status | uppercase }}</span>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- System Info Row -->\n      <div class=\"row mb-4\">\n        <div class=\"col-md-6\">\n          <div class=\"card\">\n            <div class=\"card-header\">\n              <h5 class=\"mb-0\">üíª System Resources</h5>\n            </div>\n            <div class=\"card-body\">\n              <div class=\"mb-3\">\n                <label>CPU Usage: {{ metrics?.system?.cpu_percent || 0 | number:'1.1-1' }}%</label>\n                <div class=\"progress\">\n                  <div \n                    class=\"progress-bar\" \n                    [style.width.%]=\"metrics?.system?.cpu_percent || 0\"\n                  ></div>\n                </div>\n              </div>\n              <div>\n                <label>Memory Usage: {{ metrics?.system?.memory_percent || 0 | number:'1.1-1' }}%</label>\n                <div class=\"progress\">\n                  <div \n                    class=\"progress-bar bg-warning\" \n                    [style.width.%]=\"metrics?.system?.memory_percent || 0\"\n                  ></div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"col-md-6\">\n          <div class=\"card\">\n            <div class=\"card-header\">\n              <h5 class=\"mb-0\">üîß Service Info</h5>\n            </div>\n            <div class=\"card-body\">\n              <p><strong>Model Ready:</strong> \n                <span [class]=\"'badge badge-' + (metrics?.model?.initialized ? 'success' : 'danger')\">\n                  {{ metrics?.model?.initialized ? 'Yes' : 'No' }}\n                </span>\n              </p>\n              <p><strong>CPU OK:</strong> \n                <span [class]=\"'badge badge-' + (metrics?.system?.cpu_ok ? 'success' : 'danger')\">\n                  {{ metrics?.system?.cpu_ok ? 'Yes' : 'No' }}\n                </span>\n              </p>\n              <p><strong>Memory OK:</strong> \n                <span [class]=\"'badge badge-' + (metrics?.system?.memory_ok ? 'success' : 'danger')\">\n                  {{ metrics?.system?.memory_ok ? 'Yes' : 'No' }}\n                </span>\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Predictions History -->\n      <div class=\"row\">\n        <div class=\"col-12\">\n          <div class=\"card\">\n            <div class=\"card-header\">\n              <h5 class=\"mb-0\">üìù Recent Predictions</h5>\n            </div>\n            <div class=\"card-body\">\n              <div *ngIf=\"!predictions?.predictions || predictions.predictions.length === 0\" class=\"alert alert-info\">\n                No predictions yet\n              </div>\n              <div class=\"table-responsive\" *ngIf=\"predictions?.predictions && predictions.predictions.length > 0\">\n                <table class=\"table table-hover\">\n                  <thead class=\"table-light\">\n                    <tr>\n                      <th>Crop Type</th>\n                      <th>Confidence</th>\n                      <th>Model Version</th>\n                      <th>Timestamp</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    <tr *ngFor=\"let pred of predictions.predictions | slice:0:10; let item = $implicit\">\n                      <td>\n                        <span class=\"badge badge-primary\">{{ item['crop_type'] }}</span>\n                      </td>\n                      <td>\n                        <span class=\"badge\" [class]=\"getConfidenceClass(item['confidence'])\">\n                          {{ (item['confidence'] * 100).toFixed(0) }}%\n                        </span>\n                      </td>\n                      <td>{{ item['model_version'] }}</td>\n                      <td>{{ item['timestamp'] | date:'short' }}</td>\n                    </tr>\n                  </tbody>\n                </table>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  `,\n  styles: [`\n    .stat-card {\n      border: none;\n      box-shadow: 0 2px 8px rgba(0,0,0,0.1);\n      transition: transform 0.2s;\n    }\n\n    .stat-card:hover {\n      transform: translateY(-4px);\n      box-shadow: 0 4px 12px rgba(0,0,0,0.15);\n    }\n\n    .card {\n      border: none;\n      box-shadow: 0 2px 8px rgba(0,0,0,0.1);\n      margin-bottom: 20px;\n    }\n\n    .card-header {\n      background-color: #f8f9fa;\n      border-bottom: 2px solid #e9ecef;\n      padding: 15px;\n    }\n\n    .badge-primary { background-color: #007bff; }\n    .badge-success { background-color: #28a745; }\n    .badge-warning { background-color: #ffc107; }\n    .badge-danger { background-color: #dc3545; }\n    .badge-info { background-color: #17a2b8; }\n  `]\n})\nexport class DashboardComponent implements OnInit {\n  health: any = {};\n  metrics: any = {};\n  predictions: any = { predictions: [] };\n  stats: any = {};\n\n  constructor(private cropAIService: CropAIService) {}\n\n  ngOnInit(): void {\n    this.loadData();\n    // Refresh every 10 seconds\n    setInterval(() => this.loadData(), 10000);\n  }\n\n  loadData(): void {\n    this.cropAIService.getHealth().subscribe({\n      next: (data: any) => { this.health = data; },\n      error: (err: any) => console.error('Health error:', err)\n    });\n\n    this.cropAIService.getMetrics().subscribe({\n      next: (data: any) => { this.metrics = data; },\n      error: (err: any) => console.error('Metrics error:', err)\n    });\n\n    this.cropAIService.getPredictions(50).subscribe({\n      next: (data: any) => { this.predictions = data; },\n      error: (err: any) => console.error('Predictions error:', err)\n    });\n\n    this.cropAIService.getStats().subscribe({\n      next: (data: any) => { this.stats = data; },\n      error: (err: any) => console.error('Stats error:', err)\n    });\n  }\n\n  formatUptime(seconds: number): string {\n    const hours = Math.floor(seconds / 3600);\n    const minutes = Math.floor((seconds % 3600) / 60);\n    return `${hours}h ${minutes}m`;\n  }\n\n  getConfidenceClass(confidence: number): string {\n    if (confidence >= 0.9) return 'badge-success';\n    if (confidence >= 0.7) return 'badge-info';\n    return 'badge-warning';\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}