{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nexport let PredictComponent = class PredictComponent {\n  constructor(cropAIService) {\n    this.cropAIService = cropAIService;\n    this.imageUrl = '';\n    this.modelVersion = 'latest';\n    this.loading = false;\n    this.error = '';\n    this.prediction = null;\n  }\n  ngOnInit() {}\n  onPredict() {\n    if (!this.imageUrl) {\n      this.error = 'Please enter an image URL';\n      return;\n    }\n    this.loading = true;\n    this.error = '';\n    this.prediction = null;\n    this.cropAIService.predict({\n      image_url: this.imageUrl,\n      model_version: this.modelVersion\n    }).subscribe({\n      next: result => {\n        this.prediction = result;\n        this.loading = false;\n      },\n      error: err => {\n        this.error = err.error?.detail || 'Prediction failed. Please try again.';\n        this.loading = false;\n      }\n    });\n  }\n};\nPredictComponent = __decorate([Component({\n  selector: 'app-predict',\n  standalone: true,\n  imports: [CommonModule, FormsModule],\n  template: `\n    <div class=\"row\">\n      <div class=\"col-md-6\">\n        <div class=\"card\">\n          <div class=\"card-header bg-primary text-white\">\n            <h5 class=\"mb-0\">ðŸŒ¾ Crop Prediction</h5>\n          </div>\n          <div class=\"card-body\">\n            <div class=\"form-group mb-3\">\n              <label for=\"imageUrl\" class=\"form-label\">Satellite Image URL</label>\n              <input \n                type=\"url\" \n                class=\"form-control\" \n                id=\"imageUrl\"\n                [(ngModel)]=\"imageUrl\"\n                placeholder=\"https://example.com/satellite-image.tif\"\n              />\n            </div>\n\n            <div class=\"form-group mb-3\">\n              <label for=\"modelVersion\" class=\"form-label\">Model Version</label>\n              <select \n                class=\"form-select\" \n                id=\"modelVersion\"\n                [(ngModel)]=\"modelVersion\"\n              >\n                <option value=\"latest\">Latest</option>\n                <option value=\"v1\">v1</option>\n                <option value=\"v2\">v2</option>\n              </select>\n            </div>\n\n            <button \n              class=\"btn btn-primary w-100\"\n              (click)=\"onPredict()\"\n              [disabled]=\"loading || !imageUrl\"\n            >\n              <span *ngIf=\"loading\" class=\"spinner-border spinner-border-sm me-2\"></span>\n              {{ loading ? 'Processing...' : 'Predict' }}\n            </button>\n\n            <div *ngIf=\"error\" class=\"alert alert-danger mt-3\">\n              {{ error }}\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"col-md-6\" *ngIf=\"prediction\">\n        <div class=\"card\">\n          <div class=\"card-header bg-success text-white\">\n            <h5 class=\"mb-0\">âœ“ Prediction Result</h5>\n          </div>\n          <div class=\"card-body\">\n            <div class=\"prediction-result\">\n              <p><strong>Crop Type:</strong> {{ prediction.crop_type }}</p>\n              <p><strong>Confidence:</strong> {{ (prediction.confidence * 100).toFixed(2) }}%</p>\n              <div class=\"progress mb-3\">\n                <div \n                  class=\"progress-bar\"\n                  [style.width.%]=\"prediction.confidence * 100\"\n                ></div>\n              </div>\n              <p><strong>Model:</strong> {{ prediction.model_version }}</p>\n              <p><strong>Time:</strong> {{ prediction.timestamp | date:'medium' }}</p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  `,\n  styles: [`\n    .prediction-result {\n      padding: 20px;\n      background-color: #f8f9fa;\n      border-radius: 8px;\n    }\n    \n    .form-group label {\n      font-weight: 600;\n      color: #333;\n    }\n    \n    .card {\n      box-shadow: 0 2px 8px rgba(0,0,0,0.1);\n      border: none;\n    }\n    \n    .card-header {\n      border-bottom: 2px solid #e9ecef;\n    }\n  `]\n})], PredictComponent);","map":{"version":3,"names":["Component","CommonModule","FormsModule","PredictComponent","constructor","cropAIService","imageUrl","modelVersion","loading","error","prediction","ngOnInit","onPredict","predict","image_url","model_version","subscribe","next","result","err","detail","__decorate","selector","standalone","imports","template","styles"],"sources":["/workspaces/crop-ai/frontend/angular/src/components/predict.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { CropAIService } from '../../services/crop-ai.service';\n\n@Component({\n  selector: 'app-predict',\n  standalone: true,\n  imports: [CommonModule, FormsModule],\n  template: `\n    <div class=\"row\">\n      <div class=\"col-md-6\">\n        <div class=\"card\">\n          <div class=\"card-header bg-primary text-white\">\n            <h5 class=\"mb-0\">ðŸŒ¾ Crop Prediction</h5>\n          </div>\n          <div class=\"card-body\">\n            <div class=\"form-group mb-3\">\n              <label for=\"imageUrl\" class=\"form-label\">Satellite Image URL</label>\n              <input \n                type=\"url\" \n                class=\"form-control\" \n                id=\"imageUrl\"\n                [(ngModel)]=\"imageUrl\"\n                placeholder=\"https://example.com/satellite-image.tif\"\n              />\n            </div>\n\n            <div class=\"form-group mb-3\">\n              <label for=\"modelVersion\" class=\"form-label\">Model Version</label>\n              <select \n                class=\"form-select\" \n                id=\"modelVersion\"\n                [(ngModel)]=\"modelVersion\"\n              >\n                <option value=\"latest\">Latest</option>\n                <option value=\"v1\">v1</option>\n                <option value=\"v2\">v2</option>\n              </select>\n            </div>\n\n            <button \n              class=\"btn btn-primary w-100\"\n              (click)=\"onPredict()\"\n              [disabled]=\"loading || !imageUrl\"\n            >\n              <span *ngIf=\"loading\" class=\"spinner-border spinner-border-sm me-2\"></span>\n              {{ loading ? 'Processing...' : 'Predict' }}\n            </button>\n\n            <div *ngIf=\"error\" class=\"alert alert-danger mt-3\">\n              {{ error }}\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"col-md-6\" *ngIf=\"prediction\">\n        <div class=\"card\">\n          <div class=\"card-header bg-success text-white\">\n            <h5 class=\"mb-0\">âœ“ Prediction Result</h5>\n          </div>\n          <div class=\"card-body\">\n            <div class=\"prediction-result\">\n              <p><strong>Crop Type:</strong> {{ prediction.crop_type }}</p>\n              <p><strong>Confidence:</strong> {{ (prediction.confidence * 100).toFixed(2) }}%</p>\n              <div class=\"progress mb-3\">\n                <div \n                  class=\"progress-bar\"\n                  [style.width.%]=\"prediction.confidence * 100\"\n                ></div>\n              </div>\n              <p><strong>Model:</strong> {{ prediction.model_version }}</p>\n              <p><strong>Time:</strong> {{ prediction.timestamp | date:'medium' }}</p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  `,\n  styles: [`\n    .prediction-result {\n      padding: 20px;\n      background-color: #f8f9fa;\n      border-radius: 8px;\n    }\n    \n    .form-group label {\n      font-weight: 600;\n      color: #333;\n    }\n    \n    .card {\n      box-shadow: 0 2px 8px rgba(0,0,0,0.1);\n      border: none;\n    }\n    \n    .card-header {\n      border-bottom: 2px solid #e9ecef;\n    }\n  `]\n})\nexport class PredictComponent implements OnInit {\n  imageUrl = '';\n  modelVersion = 'latest';\n  loading = false;\n  error = '';\n  prediction: any = null;\n\n  constructor(private cropAIService: CropAIService) {}\n\n  ngOnInit(): void {}\n\n  onPredict(): void {\n    if (!this.imageUrl) {\n      this.error = 'Please enter an image URL';\n      return;\n    }\n\n    this.loading = true;\n    this.error = '';\n    this.prediction = null;\n\n    this.cropAIService.predict({\n      image_url: this.imageUrl,\n      model_version: this.modelVersion\n    }).subscribe({\n      next: (result) => {\n        this.prediction = result;\n        this.loading = false;\n      },\n      error: (err) => {\n        this.error = err.error?.detail || 'Prediction failed. Please try again.';\n        this.loading = false;\n      }\n    });\n  }\n}\n"],"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AACjD,SAASC,YAAY,QAAQ,iBAAiB;AAC9C,SAASC,WAAW,QAAQ,gBAAgB;AAoGrC,WAAMC,gBAAgB,GAAtB,MAAMA,gBAAgB;EAO3BC,YAAoBC,aAA4B;IAA5B,KAAAA,aAAa,GAAbA,aAAa;IANjC,KAAAC,QAAQ,GAAG,EAAE;IACb,KAAAC,YAAY,GAAG,QAAQ;IACvB,KAAAC,OAAO,GAAG,KAAK;IACf,KAAAC,KAAK,GAAG,EAAE;IACV,KAAAC,UAAU,GAAQ,IAAI;EAE6B;EAEnDC,QAAQA,CAAA,GAAU;EAElBC,SAASA,CAAA;IACP,IAAI,CAAC,IAAI,CAACN,QAAQ,EAAE;MAClB,IAAI,CAACG,KAAK,GAAG,2BAA2B;MACxC;;IAGF,IAAI,CAACD,OAAO,GAAG,IAAI;IACnB,IAAI,CAACC,KAAK,GAAG,EAAE;IACf,IAAI,CAACC,UAAU,GAAG,IAAI;IAEtB,IAAI,CAACL,aAAa,CAACQ,OAAO,CAAC;MACzBC,SAAS,EAAE,IAAI,CAACR,QAAQ;MACxBS,aAAa,EAAE,IAAI,CAACR;KACrB,CAAC,CAACS,SAAS,CAAC;MACXC,IAAI,EAAGC,MAAM,IAAI;QACf,IAAI,CAACR,UAAU,GAAGQ,MAAM;QACxB,IAAI,CAACV,OAAO,GAAG,KAAK;MACtB,CAAC;MACDC,KAAK,EAAGU,GAAG,IAAI;QACb,IAAI,CAACV,KAAK,GAAGU,GAAG,CAACV,KAAK,EAAEW,MAAM,IAAI,sCAAsC;QACxE,IAAI,CAACZ,OAAO,GAAG,KAAK;MACtB;KACD,CAAC;EACJ;CACD;AAnCYL,gBAAgB,GAAAkB,UAAA,EAjG5BrB,SAAS,CAAC;EACTsB,QAAQ,EAAE,aAAa;EACvBC,UAAU,EAAE,IAAI;EAChBC,OAAO,EAAE,CAACvB,YAAY,EAAEC,WAAW,CAAC;EACpCuB,QAAQ,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GAsET;EACDC,MAAM,EAAE,CAAC;;;;;;;;;;;;;;;;;;;;GAoBR;CACF,CAAC,C,EACWvB,gBAAgB,CAmC5B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}