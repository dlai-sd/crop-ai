pluginManagement {
    def flutterSdkPath = {
        def localPropertiesFile = new File(rootDir, 'local.properties')
        def properties = new Properties()
        
        if (!localPropertiesFile.exists()) {
            throw new GradleException('local.properties not found.')
        }
        
        localPropertiesFile.withReader('UTF-8') { reader ->
            properties.load(reader)
        }
        
        def flutterSdkPath = properties.getProperty('flutter.sdk')
        if (flutterSdkPath == null) {
            throw new GradleException('flutter.sdk not defined in local.properties')
        }
        return flutterSdkPath
    }()
    
    repositories {
        google()
        mavenCentral()
        gradlePluginPortal()
    }
}

plugins {
    id "dev.flutter.flutter-gradle-plugin" version "1.0.0" apply false
}

include ':app'

def localPropertiesFile = new File(rootProject.projectDir, 'local.properties')
def properties = new Properties()

if (localPropertiesFile.exists()) {
    localPropertiesFile.withReader('UTF-8') { reader ->
        properties.load(reader)
    }
}

def flutterSdkPath = properties.getProperty('flutter.sdk')
if (flutterSdkPath == null) {
    throw new GradleException('Flutter SDK not found. Define flutter.sdk in local.properties.')
}


